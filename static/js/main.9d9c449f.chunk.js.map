{"version":3,"sources":["components/albumsList/albumsList.module.css","components/photoFullSize/photoFullSize.module.css","App.module.css","components/notFound/notFound.module.css","components/buttons/backButton/backButton.module.css","components/loader/loader.module.css","containers/albums/albums.module.css","components/authorsList/authorsList.module.css","containers/homepage/homepage.module.css","components/buttons/closePhoto/closePhoto.module.css","components/buttons/nextPhoto/nextPhoto.module.css","components/photosList/photoList.module.css","containers/photos/photos.module.css","components/notFound/notFound.js","components/albumsList/albumsList.js","components/buttons/backButton/backButton.js","components/loader/loader.js","containers/albums/albums.js","components/authorsList/authorsList.js","containers/homepage/homepage.js","components/buttons/closePhoto/closePhoto.js","components/buttons/nextPhoto/nextPhoto.js","components/photoFullSize/photoFullSize.js","components/photosList/photosList.js","redux/actions/actionTypes.js","redux/actions/actions.js","containers/photos/photos.js","App.js","redux/reducers/reducer.js","hoc/scrollToTop.js","index.js"],"names":["module","exports","NotFound","className","classes","center","AlbumsList","props","albums","authorID","map","id","title","photos","to","src","alt","length","BackButton","href","target","back","Loader","connect","state","users","usersIsLoad","photosIsLoad","match","params","authorAlbums","albumsArr","Object","entries","AuthorsList","user","name","usersArr","ClosePhoto","closePhoto","onClick","close","NextPhoto","direction","goNext","PhotoFullSize","url","nextPhoto","currentPhotoNumber","numberPhotosInAlbum","backdrop","PhotosList","setPhotoData","photo","index","thumbnailUrl","DATA_LOAD","PHOTO_DATA","USERS_LOAD","PHOTOS_LOAD","albumsPhotosLoad","dispatch","a","fetch","responsePhotos","jsonPhohtos","ok","json","responseAlbums","jsonAlbums","usersFullInfo","photosInAlbums","forEach","albumId","push","album","userId","setUsers","type","console","error","payload","currentPhoto","data","albumID","albumPhotos","e","getAttribute","usersLoad","response","useEffect","content","path","exact","component","Homepage","Albums","Photos","render","initialState","Reducer","action","ScrollToTop","prevProps","this","location","window","scrollTo","children","Component","withRouter","store","createStore","applyMiddleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.9d9c449f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"albums-list\":\"albumsList_albums-list__27Vss\",\"album-link\":\"albumsList_album-link__2tf-s\",\"album-container\":\"albumsList_album-container__2d8ph\",\"albums-cover\":\"albumsList_albums-cover__Pf_QP\",\"albums-title\":\"albumsList_albums-title__2Sx3l\",\"albums-info\":\"albumsList_albums-info__2R-JY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img-container\":\"photoFullSize_img-container__YUxQp\",\"backdrop\":\"photoFullSize_backdrop__1UM8z\",\"photo-container\":\"photoFullSize_photo-container__2IBsU\",\"photo-nav\":\"photoFullSize_photo-nav__5M8hn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"App_content__319J8\",\"go-home\":\"App_go-home__3T0h2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notfound-container\":\"notFound_notfound-container__VvI6a\",\"center\":\"notFound_center__2CYtw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"back\":\"backButton_back__3Etq-\",\"arrow-1\":\"backButton_arrow-1__3Qmo1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lds-spinner\":\"loader_lds-spinner__3ULEt\",\"center\":\"loader_center__2ksSN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"albums-container\":\"albums_albums-container__3PMMJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"authors-ul\":\"authorsList_authors-ul__eM4N8\",\"author-name\":\"authorsList_author-name__7Wcap\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"authors-list\":\"homepage_authors-list__1jZR-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"close\":\"closePhoto_close__3pvir\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Next\":\"nextPhoto_Next__2DZQE\",\"Prev\":\"nextPhoto_Prev__1kuKw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo-list\":\"photoList_photo-list__3UeUx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photos-container\":\"photos_photos-container__1h94v\"};","import classes from './notFound.module.css'\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <div className={classes['notfound-container']}>\r\n      <div className={classes.center}>NOT FOUND</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NotFound","import { NavLink } from \"react-router-dom\";\r\nimport classes from './albumsList.module.css'\r\n\r\nconst AlbumsList = props => {\r\n  const { albums, authorID } = props;\r\n  return (\r\n    <ul className={classes['albums-list']}>{albums.map(([id, {title, photos}]) => {\r\n      return (\r\n        <li key={id}>\r\n          <NavLink className={classes['album-link']} to={`/photo-gallery/user-${authorID}-album-${id}`}>\r\n            <div className={classes['album-container']}>\r\n              <img className={classes['albums-cover']} src='https://i114.fastpic.ru/big/2021/0202/9d/b42ffbb81d2dfa3471fea3830785a49d.png' alt='cover' />\r\n              <div className={classes['albums-title']}>{title}</div>\r\n              <div className={classes['albums-info']}>{photos.length} | фото</div>\r\n            </div>\r\n          </NavLink>\r\n        </li>\r\n      )\r\n    })}</ul>\r\n  )\r\n}\r\n\r\nexport default AlbumsList","import classes from './backButton.module.css'\r\nimport { NavLink } from \"react-router-dom\"\r\n\r\nconst BackButton = props => {\r\n  const {href, target} = props;\r\n  return ( \r\n    <NavLink to={href} className={classes.back}>\r\n      <div className={classes[\"arrow-1\"]}>\r\n          <div />\r\n      </div>\r\n      <span>Назад к {target}</span>\r\n    </NavLink>\r\n  )\r\n}\r\n\r\nexport default BackButton","import classes from './loader.module.css'\r\n\r\nconst Loader = () => (\r\n<div className={classes.center}>\r\n  <div className={classes['lds-spinner']}>\r\n    <div /><div /><div /><div /><div /><div /><div /><div /><div /><div /><div /><div />\r\n  </div>\r\n</div>\r\n)\r\n\r\nexport default Loader","import { connect } from \"react-redux\"\r\nimport AlbumsList from \"../../components/albumsList/albumsList\";\r\nimport BackButton from \"../../components/buttons/backButton/backButton\";\r\nimport Loader from \"../../components/loader/loader\";\r\nimport NotFound from \"../../components/notFound/notFound\";\r\nimport classes from './albums.module.css'\r\n\r\nconst Albums = props => {\r\n  const { users, usersIsLoad, photosIsLoad } = props\r\n\r\n  const authorID = props.match.params.authorID;\r\n\r\n  if (!usersIsLoad || !photosIsLoad) {\r\n    return (\r\n      <div className={classes['albums-container']}>\r\n        <Loader />\r\n      </div>\r\n    )\r\n  } else if (!users[authorID]) {\r\n    return (\r\n      <NotFound />\r\n    )\r\n  }\r\n\r\n  const authorAlbums = users[authorID].albums;\r\n  const albumsArr = Object.entries(authorAlbums);\r\n\r\n  return (\r\n    <div className={classes['albums-container']}>\r\n      <BackButton target='авторам' href='/photo-gallery' />\r\n      <AlbumsList albums={albumsArr} authorID={authorID} />\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    users: state.users,\r\n    usersIsLoad: state.usersIsLoad,\r\n    photosIsLoad: state.photosIsLoad\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Albums) ","import { NavLink } from \"react-router-dom\"\r\nimport classes from './authorsList.module.css'\r\n\r\nconst AuthorsList = props => {\r\n  const { users } = props\r\n  return (\r\n    <ul className={classes['authors-ul']}>\r\n      {users.map( ([id, user]) => <li key={id}>{<NavLink className={classes['author-name']} to={`/photo-gallery/user-${id}-albums`}>{user.name}</NavLink>}</li>)}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default AuthorsList","import { connect } from \"react-redux\"\r\nimport AuthorsList from \"../../components/authorsList/authorsList\";\r\nimport Loader from \"../../components/loader/loader\";\r\nimport classes from './homepage.module.css';\r\n\r\nconst Homepage = props => {\r\n  const { users, usersIsLoad } = props;\r\n  const usersArr = Object.entries(users)\r\n  \r\n  return (\r\n    <div className={classes[\"authors-list\"]}>\r\n      <h1>Авторы работ</h1> \r\n      { usersIsLoad ? <AuthorsList users={usersArr}/> : <Loader />}\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    users: state.users,\r\n    usersIsLoad: state.usersIsLoad\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Homepage)","import classes from './closePhoto.module.css'\r\n\r\nconst ClosePhoto = props => {\r\n  const { closePhoto } = props\r\n  return (\r\n    <div onClick={closePhoto} className={classes.close}></div>\r\n  )\r\n}\r\n\r\nexport default ClosePhoto","import classes from './nextPhoto.module.css'\r\n\r\nconst NextPhoto = props => {\r\n  const { direction, goNext } = props\r\n  return (\r\n    <i direction={direction} className={classes[direction]} onClick={goNext}></i>\r\n  )\r\n}\r\n\r\nexport default NextPhoto","import ClosePhoto from '../buttons/closePhoto/closePhoto';\r\nimport NextPhoto from '../buttons/nextPhoto/nextPhoto';\r\nimport classes from './photoFullSize.module.css'\r\n\r\nconst PhotoFullSize = props => {\r\n  const {url, nextPhoto, closePhoto, currentPhotoNumber, numberPhotosInAlbum} = props;\r\n  return (\r\n    <div className={classes['img-container']}>\r\n      <div className={classes.backdrop} onClick={closePhoto}></div>\r\n      <ClosePhoto closePhoto={closePhoto} />\r\n      <div className={classes['photo-container']}>\r\n        <img src={url} alt='' />\r\n        <div className={classes['photo-nav']}>\r\n          <NextPhoto direction='Prev' goNext={nextPhoto} />\r\n          <span>{currentPhotoNumber} / {numberPhotosInAlbum}</span>\r\n          <NextPhoto direction='Next' goNext={nextPhoto} />\r\n        </div> \r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PhotoFullSize","import classes from './photoList.module.css'\r\n\r\nconst PhotosList = props => {\r\n  const {photos, setPhotoData} = props;\r\n\r\n  return (\r\n    <ul className={classes['photo-list']}>\r\n      {photos.map((photo, index) => {\r\n        return (\r\n          <li \r\n            key={photo.id} \r\n            onClick={() => setPhotoData({url: photo.url, index: index + 1})}\r\n          >\r\n            <img src={photo.thumbnailUrl} alt={photo.title}/>\r\n          </li>\r\n        )\r\n      })}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default PhotosList","export const DATA_LOAD = 'DATA_LOAD'\r\nexport const PHOTO_DATA = 'PHOTO_DATA'\r\nexport const USERS_LOAD = 'USERS_LOAD'\r\nexport const PHOTOS_LOAD = 'PHOTOS_LOAD'","import { DATA_LOAD, PHOTOS_LOAD, PHOTO_DATA, USERS_LOAD } from \"./actionTypes\";\r\n\r\nexport function usersLoad() {\r\n  return async dispatch => {\r\n    try {\r\n      \r\n      const response = await fetch('https://jsonplaceholder.typicode.com/users');\r\n\r\n      let json = null;\r\n\r\n      if (response.ok) {\r\n        json = await response.json();\r\n      }\r\n\r\n      const users = {};\r\n\r\n      json.forEach(user => users[user.id] = {\r\n        name: user.name,\r\n        albums: {}\r\n      })\r\n      \r\n      dispatch(setUsers(users))\r\n      dispatch(loadUsers())\r\n      dispatch(albumsPhotosLoad(users))\r\n\r\n    } catch(e) {\r\n      console.error(e)\r\n    }\r\n     \r\n  }\r\n}\r\n\r\nexport function albumsPhotosLoad(users) {\r\n  return async dispatch => {\r\n    try {\r\n\r\n      const responsePhotos = await fetch('https://jsonplaceholder.typicode.com/photos');\r\n\r\n      let jsonPhohtos = null;\r\n\r\n      if (responsePhotos.ok) {\r\n        jsonPhohtos = await responsePhotos.json();\r\n      }\r\n\r\n      const responseAlbums = await fetch('https://jsonplaceholder.typicode.com/albums')\r\n\r\n      let jsonAlbums = null;\r\n\r\n      if (responseAlbums.ok) {\r\n        jsonAlbums = await responseAlbums.json()\r\n      }\r\n\r\n      const usersFullInfo = {...users};\r\n      const photosInAlbums = {};\r\n\r\n      jsonPhohtos.forEach(photo => {\r\n        if (!photosInAlbums[photo.albumId]) {\r\n          photosInAlbums[photo.albumId] = []\r\n        }\r\n        photosInAlbums[photo.albumId].push(photo)\r\n      })\r\n\r\n      jsonAlbums.forEach(album => users[album.userId].albums[album.id] = {\r\n        title: album.title,\r\n        photos: photosInAlbums[album.id]\r\n      })\r\n\r\n      dispatch(setUsers(usersFullInfo))\r\n      dispatch(loadPhotos())\r\n\r\n    } catch(e) {\r\n      console.error(e)\r\n    }\r\n  }\r\n}\r\n\r\nexport function setUsers(users) {\r\n  return {\r\n    type: DATA_LOAD,\r\n    payload: users\r\n  }\r\n}\r\n\r\nexport function setPhotoData(data) {\r\n  return {\r\n    type: PHOTO_DATA,\r\n    payload: data\r\n  }  \r\n}\r\n\r\nexport function loadUsers() {\r\n  return {\r\n    type: USERS_LOAD\r\n  }\r\n}\r\n\r\nexport function loadPhotos() {\r\n  return {\r\n    type: PHOTOS_LOAD\r\n  }\r\n}","import { connect } from \"react-redux\"\r\nimport BackButton from \"../../components/buttons/backButton/backButton\";\r\nimport Loader from \"../../components/loader/loader\";\r\nimport NotFound from \"../../components/notFound/notFound\";\r\nimport PhotoFullSize from \"../../components/photoFullSize/photoFullSize\";\r\nimport PhotosList from \"../../components/photosList/photosList\"\r\nimport { setPhotoData } from \"../../redux/actions/actions\";\r\nimport classes from \"./photos.module.css\";\r\n\r\nconst Photos = props => { \r\n  const { users, currentPhoto, setPhotoData, usersIsLoad, photosIsLoad } = props;\r\n\r\n  const authorID = props.match.params.authorID;\r\n  const albumID = props.match.params.albumID;\r\n\r\n  if (!usersIsLoad || !photosIsLoad) {\r\n    return (\r\n      <div className={classes['photos-container']}>\r\n        <Loader />\r\n      </div>\r\n    )\r\n  } else if (!users[authorID] || !users[authorID].albums[albumID]) {\r\n    return (\r\n      <NotFound />\r\n    )\r\n  }\r\n\r\n  const albumPhotos = users[authorID].albums[albumID].photos;\r\n  \r\n  const closePhotoHandler = () => {\r\n    setPhotoData(null)\r\n  }\r\n\r\n  const nextPhotoHandler = e => {\r\n    let { index } = currentPhoto\r\n    const direction = e.target.getAttribute('direction')\r\n\r\n    if (direction === 'Next') {\r\n\r\n      if (index === albumPhotos.length) index = 0;\r\n      setPhotoData({url: albumPhotos[index].url, index: index + 1})\r\n\r\n    } else if (direction === 'Prev') {\r\n\r\n      if (index === 1) index = albumPhotos.length + 1;\r\n      setPhotoData({url: albumPhotos[index - 2].url, index: index - 1})\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <BackButton target={'альбомам'} href={`/photo-gallery/user-${authorID}-albums`}/>\r\n      {currentPhoto \r\n        ? <PhotoFullSize \r\n            url={currentPhoto.url} \r\n            nextPhoto={nextPhotoHandler} \r\n            closePhoto={closePhotoHandler} \r\n            currentPhotoNumber={currentPhoto.index} \r\n            numberPhotosInAlbum={albumPhotos.length}\r\n          /> : null}\r\n      <PhotosList photos={albumPhotos} setPhotoData={setPhotoData}/>\r\n    </>\r\n    \r\n  )\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    users: state.users,\r\n    currentPhoto: state.currentPhoto,\r\n    usersIsLoad: state.usersIsLoad,\r\n    photosIsLoad: state.photosIsLoad\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    setPhotoData: data => dispatch(setPhotoData(data))\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Photos)","import { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { NavLink, Route, Switch } from 'react-router-dom';\nimport classes from './App.module.css';\nimport NotFound from './components/notFound/notFound';\nimport Albums from './containers/albums/albums';\nimport Homepage from './containers/homepage/homepage';\nimport Photos from './containers/photos/photos';\nimport { usersLoad } from './redux/actions/actions';\n\nconst App = props => {\n    const { usersLoad } = props;\n    \n    useEffect(() => {\n      usersLoad()  \n    }, [usersLoad])\n\n    return (\n      <main>\n        <header><NavLink className={classes['go-home']} to='/photo-gallery'>Photo Gallery Name</NavLink></header>\n        <div className={classes.content}>\n          <Switch>\n            <Route path='/photo-gallery' exact component={Homepage} />\n            <Route path='/photo-gallery/user-:authorID-albums' component={Albums}/>\n            <Route path='/photo-gallery/user-:authorID-album-:albumID' component={Photos}/>\n            <Route render={NotFound}/>\n          </Switch>\n        </div>\n        <footer>Контакты © Имя Владельца</footer>\n      </main>\n      \n    );\n}\n\nfunction mapStateToProps(state) {\n  return {\n    users: state.users\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    usersLoad: () => dispatch(usersLoad()),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","import { DATA_LOAD, PHOTOS_LOAD, PHOTO_DATA, USERS_LOAD } from \"../actions/actionTypes\"\r\n\r\nconst initialState = {\r\n  users: {},\r\n  currentPhoto: null,\r\n  usersIsLoad: false,\r\n  photosIsLoad: false\r\n}\r\n\r\nconst Reducer = (state = initialState, action) => {\r\n  switch(action.type) {\r\n    case DATA_LOAD:\r\n      return {\r\n        ...state,\r\n        users: action.payload\r\n      };\r\n    \r\n    case PHOTO_DATA:\r\n      return {\r\n        ...state,\r\n        currentPhoto: action.payload\r\n      }\r\n    \r\n    case USERS_LOAD:\r\n      return {\r\n        ...state,\r\n        usersIsLoad: true\r\n      }\r\n\r\n    case PHOTOS_LOAD:\r\n      return {\r\n        ...state,\r\n        photosIsLoad: true\r\n      }\r\n\r\n    default: \r\n      return state\r\n  }\r\n}\r\n\r\nexport default Reducer","import { Component } from \"react\"\r\nimport { withRouter } from \"react-router-dom\"\r\n\r\nclass ScrollToTop extends Component {\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.location !== prevProps.location) {\r\n      window.scrollTo(0, 0)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return this.props.children\r\n  }\r\n}\r\n\r\nexport default withRouter(ScrollToTop)","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { applyMiddleware, createStore } from 'redux';\nimport Reducer from './redux/reducers/reducer';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport { BrowserRouter } from 'react-router-dom';\nimport ScrollToTop from './hoc/scrollToTop';\n\nconst store = createStore(Reducer, applyMiddleware(thunk))\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <ScrollToTop>\n        <App />\n      </ScrollToTop>\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}